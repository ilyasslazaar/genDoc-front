{"ast":null,"code":"import _classCallCheck from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yassine/Desktop/Gendoc-front/src/views/AddType.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row, Col, Card, ListGroup, ListGroupItem, FormInput, Form, Button } from \"shards-react\";\nimport CustomFileUpload from \"../components/components-overview/CustomFileUpload\";\nimport PageTitle from \"../components/common/PageTitle\";\nimport { store } from 'react-notifications-component';\nimport 'react-notifications-component/dist/theme.css';\nimport axios from 'axios';\n\nvar AddType =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddType, _Component);\n\n  function AddType(props) {\n    var _this;\n\n    _classCallCheck(this, AddType);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddType).call(this, props));\n    _this.state = {\n      typeDTO: {\n        \"name\": \"\",\n        \"template\": \"\"\n      },\n      template: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AddType, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        typeDTO: {\n          \"template\": e.target.files[0].name\n        }\n      });\n      this.setState({\n        file: e.target.files[0]\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var data = {\n        name: e.target.typeName.value,\n        template: this.state.typeDTO.template\n      };\n      this.setState({\n        data: data\n      }, function () {\n        var template = new FormData();\n        template.append(\"template\", _this2.state.file);\n        axios.post(\"http://localhost:8080/services/gendoc/api/type/create\", template, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          },\n          params: {\n            data: data\n          }\n        }).then(function (response) {\n          if (response.status == 200) {\n            _this2.setState({\n              toggleDownloadBtn: true\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4 pb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(PageTitle, {\n        sm: \"4\",\n        title: \"Add New Post\",\n        subtitle: \"Blog Posts\",\n        className: \"text-sm-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: \"12\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Card, {\n        small: true,\n        className: \"mb-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(ListGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(ListGroupItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Ajouter un nouveau type\")), React.createElement(ListGroupItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"fieldset\", {\n        className: \"contact-fieldset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Type\"), React.createElement(FormInput, {\n        name: \"typeName\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Template\"), React.createElement(\"div\", {\n        className: \"custom-file mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleChange.bind(this),\n        type: \"file\",\n        className: \"custom-file-input\",\n        id: \"customFile2\",\n        accept: \".docx,.doc\",\n        name: \"template\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"custom-file-label\",\n        htmlFor: \"customFile2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Choisissez un fichier...\")))), React.createElement(Button, {\n        outline: true,\n        theme: \"primary\",\n        className: \"mb-2 mr-1\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Cr\\xE9er\"), React.createElement(Button, {\n        outline: true,\n        theme: \"secondary\",\n        className: \"mb-2 mr-1\",\n        type: \"reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Vider\")))))))), React.createElement(Col, {\n        lg: \"3\",\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddType;\n}(Component);\n\nexport default AddType;","map":{"version":3,"sources":["/home/yassine/Desktop/Gendoc-front/src/views/AddType.js"],"names":["React","Component","Container","Row","Col","Card","ListGroup","ListGroupItem","FormInput","Form","Button","CustomFileUpload","PageTitle","store","axios","AddType","props","state","typeDTO","template","handleSubmit","bind","e","setState","target","files","name","file","preventDefault","data","typeName","value","FormData","append","post","headers","params","then","response","status","toggleDownloadBtn","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Row, Col, Card, ListGroup, ListGroupItem, FormInput, Form, Button } from \"shards-react\";\nimport CustomFileUpload from \"../components/components-overview/CustomFileUpload\";\nimport PageTitle from \"../components/common/PageTitle\";\nimport { store } from 'react-notifications-component';\nimport 'react-notifications-component/dist/theme.css'\n\nimport axios from 'axios'\nclass AddType extends Component {\n\n  state = {\n    typeDTO: {\n      \"name\": \"\",\n      \"template\": \"\"\n    },\n    template: null,\n  }\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n  }\n\n\n  handleChange(e) {\n\n    this.setState({\n      typeDTO: {\n        \"template\": e.target.files[0].name\n      },\n    })\n    this.setState({ file: e.target.files[0] })\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    const data = {\n      name: e.target.typeName.value,\n      template: this.state.typeDTO.template\n    }\n    this.setState({ data: data },\n      () => {\n        const template = new FormData();\n        template.append(\"template\", this.state.file)\n        axios.post(\"http://localhost:8080/services/gendoc/api/type/create\", template, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          },\n          params: {\n            data: data\n          }\n        })\n          .then((response) => {\n            if (response.status == 200) {\n              this.setState({\n                toggleDownloadBtn: true,\n              });\n            }\n          });\n      }\n    )\n  }\n  render() {\n    return (<Container fluid className=\"main-content-container px-4 pb-4\">\n      {/* Page Header */}\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle sm=\"4\" title=\"Add New Post\" subtitle=\"Blog Posts\" className=\"text-sm-left\" />\n      </Row>\n\n      <Row>\n        {/* Editor */}\n        <Col lg=\"12\" md=\"12\">\n          <Card small className=\"mb-12\">\n            <ListGroup>\n              <ListGroupItem>\n                <h5 className=\"m-0\">\n                  Ajouter un nouveau type\n              </h5>\n              </ListGroupItem>\n              <ListGroupItem>\n                <Col md=\"12\" className=\"form-group\">\n                  <Form onSubmit={this.handleSubmit}>\n                    <fieldset className=\"contact-fieldset\">\n\n                      <Row form>\n                        <Col md=\"6\" className=\"form-group\" >\n                          <label >Type</label>\n                          <FormInput name=\"typeName\" type=\"text\" />\n                        </Col>\n\n                        <Col md=\"6\" className=\"form-group\" >\n\n                          <label >Template</label>\n                          <div className=\"custom-file mb-3\">\n                            <input onChange={this.handleChange.bind(this)} type=\"file\" className=\"custom-file-input\" id=\"customFile2\"\n                              accept=\".docx,.doc\" name=\"template\" />\n                            <label className=\"custom-file-label\" htmlFor=\"customFile2\">Choisissez un fichier...</label>\n                          </div>\n\n                        </Col>\n                      </Row>\n                      <Button outline theme=\"primary\" className=\"mb-2 mr-1\" type=\"submit\">Créer</Button>\n                      <Button outline theme=\"secondary\" className=\"mb-2 mr-1\" type=\"reset\">Vider</Button>\n\n                    </fieldset>\n                  </Form>\n                </Col>\n              </ListGroupItem>\n            </ListGroup>\n          </Card>\n        </Col>\n\n        {/* Sidebar Widgets */}\n        <Col lg=\"3\" md=\"12\">\n\n        </Col>\n      </Row>\n    </Container>);\n  }\n}\n\nexport default AddType;\n"]},"metadata":{},"sourceType":"module"}