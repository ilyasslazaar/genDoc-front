{"ast":null,"code":"import _classCallCheck from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yassine/Desktop/Gendoc-front/src/components/forms/AttestationDeStage.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../../assets/style.css';\nimport Responsable from './responsable/Responsable';\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues';\nimport { Row, Col, Form, FormInput, FormSelect, Button } from \"shards-react\";\n\nvar AttestationDeStage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AttestationDeStage, _Component);\n\n  function AttestationDeStage(props) {\n    var _this;\n\n    _classCallCheck(this, AttestationDeStage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AttestationDeStage).call(this, props));\n    _this.state = {\n      formData: {},\n      data: {},\n      toggleDownloadBtn: false,\n      generatedFileName: \"\"\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AttestationDeStage, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        formData: {\n          \"signed\": event.target.signature.value,\n          \"typeName\": \"ATTESTATION_DE_STAGE\",\n          \"data\": {\n            \"lieuLivraison\": event.target.lieuLivraison.value,\n            \"dateLivraison\": event.target.dateLivraison.value,\n            \"responsable\": {\n              \"civilite\": event.target.civiliteResponsable.value,\n              \"nom\": event.target.nomResponsable.value,\n              \"prenom\": event.target.prenomResponsable.value,\n              \"fonction\": event.target.fonction.value,\n              \"societe\": \"Novelis\"\n            },\n            \"stagiaire\": {\n              \"civilite\": event.target.civiliteStagiaire.value,\n              \"nom\": event.target.nomStagiaire.value,\n              \"prenom\": event.target.prenomStagiaire.value,\n              \"cin\": event.target.cinStagiaire.value,\n              \"dateDebut\": event.target.dateDebutStage.value,\n              \"dateFin\": event.target.dateFinStage.value\n            }\n          }\n        }\n      }, function () {\n        axios.post(apiURL, {\n          responseType: 'arraybuffer',\n          headers: {\n            'Accept': 'application/pdf'\n          }\n        }, {\n          params: {\n            data: _this2.state.formData\n          }\n        }).then(function (response) {\n          if (response.status == 200) {\n            _this2.setState({\n              toggleDownloadBtn: true,\n              generatedFileName: response.data\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Responsable\"))), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Responsable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Stagiaire\"))), React.createElement(\"fieldset\", {\n        className: \"my-fieldset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Civilit\\xE9\"), React.createElement(FormSelect, {\n        onChange: this.handleChange,\n        name: \"civiliteStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Mr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Mr\"), React.createElement(\"option\", {\n        value: \"Mme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Mme\"), React.createElement(\"option\", {\n        value: \"Mlle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Mlle\"))), React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Nom\"), React.createElement(FormInput, {\n        type: \"text\",\n        placeholder: \"Nom\",\n        name: \"nomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Pr\\xE9nom\"), React.createElement(FormInput, {\n        name: \"prenomStagiaire\",\n        type: \"text\",\n        placeholder: \"Pr\\xE9nom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"CIN\"), React.createElement(FormInput, {\n        name: \"cinStagiaire\",\n        type: \"text\",\n        placeholder: \"N\\xB0 CIN\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Date de d\\xE9but du stage\"), React.createElement(FormInput, {\n        name: \"dateDebutStage\",\n        type: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Date de d\\xE9but de stage\"), React.createElement(FormInput, {\n        name: \"dateFinStage\",\n        type: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(Row, {\n        className: \"other-doc-info\",\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feSignature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Signature\"), React.createElement(FormSelect, {\n        name: \"signature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Oui\"), React.createElement(\"option\", {\n        value: \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Non\"))), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feSignature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Date de livraison\"), React.createElement(FormInput, {\n        name: \"dateLivraison\",\n        type: \"date\",\n        placeholder: \"Lieu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionResponsable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Lieu de livraison\"), React.createElement(FormInput, {\n        name: \"lieuLivraison\",\n        type: \"text\",\n        placeholder: \"Lieu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(Button, {\n        outline: true,\n        theme: \"primary\",\n        className: \"mb-2 mr-1\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"G\\xE9n\\xE9rer le document\"), React.createElement(Button, {\n        outline: true,\n        theme: \"secondary\",\n        className: \"mb-2 mr-1\",\n        type: \"reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Vider les champs\"), this.state.toggleDownloadBtn ? React.createElement(\"a\", {\n        href: downloadURL + this.state.generatedFileName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        title: \"T\\xE9l\\xE9charger le fichier PDF g\\xE9n\\xE9r\\xE9\",\n        type: \"button\",\n        className: \"mb-2 mr-1 btn btn-outline-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-download\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }))) : \"\")));\n    }\n  }]);\n\n  return AttestationDeStage;\n}(Component);\n\nexport default AttestationDeStage;","map":{"version":3,"sources":["/home/yassine/Desktop/Gendoc-front/src/components/forms/AttestationDeStage.js"],"names":["React","Component","axios","Responsable","downloadFilesURL","downloadURL","gendocServiceURL","apiURL","styles","Row","Col","Form","FormInput","FormSelect","Button","AttestationDeStage","props","state","formData","data","toggleDownloadBtn","generatedFileName","handleSubmit","bind","event","preventDefault","setState","target","signature","value","lieuLivraison","dateLivraison","civiliteResponsable","nomResponsable","prenomResponsable","fonction","civiliteStagiaire","nomStagiaire","prenomStagiaire","cinStagiaire","dateDebutStage","dateFinStage","post","responseType","headers","params","then","response","status","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../../assets/style.css';\nimport Responsable from './responsable/Responsable'\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues'\n\nimport {\n  Row,\n  Col,\n  Form,\n  FormInput,\n  FormSelect,\n  Button\n} from \"shards-react\";\n\nclass AttestationDeStage extends Component {\n  state = { formData: {}, data: {}, toggleDownloadBtn: false, generatedFileName: \"\" }\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      formData: {\n        \"signed\": event.target.signature.value,\n        \"typeName\": \"ATTESTATION_DE_STAGE\",\n        \"data\": {\n          \"lieuLivraison\": event.target.lieuLivraison.value,\n          \"dateLivraison\": event.target.dateLivraison.value,\n          \"responsable\": {\n            \"civilite\": event.target.civiliteResponsable.value,\n            \"nom\": event.target.nomResponsable.value,\n            \"prenom\": event.target.prenomResponsable.value,\n            \"fonction\": event.target.fonction.value,\n            \"societe\": \"Novelis\"\n          },\n          \"stagiaire\": {\n            \"civilite\": event.target.civiliteStagiaire.value,\n            \"nom\": event.target.nomStagiaire.value,\n            \"prenom\": event.target.prenomStagiaire.value,\n            \"cin\": event.target.cinStagiaire.value,\n            \"dateDebut\": event.target.dateDebutStage.value,\n            \"dateFin\": event.target.dateFinStage.value\n          }\n        },\n      }\n    }, () => {\n      axios.post(apiURL, {\n        responseType: 'arraybuffer',\n        headers: {\n          'Accept': 'application/pdf'\n        }\n      },\n        {\n          params: {\n            data: this.state.formData\n          }\n        }).then((response) => {\n          if (response.status == 200) {\n            this.setState({\n              toggleDownloadBtn: true,\n              generatedFileName: response.data\n            });\n          }\n        });\n    }\n    )\n  }\n  render() {\n    return (\n      <div>\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h5>Responsable</h5>\n          </Col>\n        </Row>\n        <Form onSubmit={this.handleSubmit} >\n          <Responsable />\n\n          <Row style={styles} >\n            <Col md=\"6\">\n              <h5>Stagiaire</h5>\n            </Col>\n          </Row>\n\n          <fieldset className=\"my-fieldset\">\n\n            <Row form>\n              <Col className=\"form-group\" >\n\n                <label htmlFor=\"fePrenomStagiaire\">Civilité</label>\n\n                <FormSelect onChange={this.handleChange} name=\"civiliteStagiaire\">\n                  <option value=\"Mr\">Mr</option>\n                  <option value=\"Mme\">Mme</option>\n                  <option value=\"Mlle\">Mlle</option>\n                </FormSelect>\n              </Col>\n              <Col className=\"form-group\" >\n                <label htmlFor=\"fePrenomStagiaire\">Nom</label>\n\n                <FormInput\n                  type=\"text\"\n                  placeholder=\"Nom\"\n                  name=\"nomStagiaire\"\n                />\n              </Col>\n            </Row>\n            <Row form>\n\n              <Col md=\"6\" className=\"form-group\">\n                <label htmlFor=\"fePrenomStagiaire\">Prénom</label>\n                <FormInput\n                  name=\"prenomStagiaire\"\n                  type=\"text\"\n                  placeholder=\"Prénom\"\n                />\n              </Col>\n              <Col md=\"6\" className=\"form-group\">\n                <label htmlFor=\"feFonctionStagiaire\">CIN</label>\n                <FormInput\n                  name=\"cinStagiaire\"\n                  type=\"text\"\n                  placeholder=\"N° CIN\"\n                />\n              </Col>\n            </Row>\n            <Row form>\n\n              <Col md=\"6\" className=\"form-group\">\n                <label htmlFor=\"fePrenomStagiaire\">Date de début du stage</label>\n                <FormInput\n                  name=\"dateDebutStage\"\n                  type=\"date\"\n                />\n              </Col>\n              <Col md=\"6\" className=\"form-group\">\n\n                <label htmlFor=\"feFonctionStagiaire\">Date de début de stage</label>\n                <FormInput\n                  name=\"dateFinStage\"\n                  type=\"date\"\n                />\n              </Col>\n            </Row>\n            <hr />\n            <Row className=\"other-doc-info\" form>\n              <Col md=\"4\" className=\"form-group\">\n\n                <label htmlFor=\"feSignature\">Signature</label>\n                <FormSelect name=\"signature\">\n                  <option value=\"true\">Oui</option>\n                  <option value=\"false\">Non</option>\n                </FormSelect>\n              </Col>\n              <Col md=\"4\" className=\"form-group\">\n\n                <label htmlFor=\"feSignature\">Date de livraison</label>\n                <FormInput\n                  name=\"dateLivraison\"\n                  type=\"date\"\n                  placeholder=\"Lieu\"\n                />\n              </Col>\n              <Col md=\"4\" className=\"form-group\">\n                <label htmlFor=\"feFonctionResponsable\">Lieu de livraison</label>\n                <FormInput\n                  name=\"lieuLivraison\"\n                  type=\"text\"\n                  placeholder=\"Lieu\"\n                />\n              </Col>\n            </Row>\n            <br />\n            <Button outline theme=\"primary\" className=\"mb-2 mr-1\" type=\"submit\">Générer le document</Button>\n            <Button outline theme=\"secondary\" className=\"mb-2 mr-1\" type=\"reset\">Vider les champs</Button>\n\n            {this.state.toggleDownloadBtn ? <a href={downloadURL + this.state.generatedFileName} > <button title=\"Télécharger le fichier PDF généré\" type=\"button\" className=\"mb-2 mr-1 btn btn-outline-success\"><i className=\"fa fa-download\" aria-hidden=\"true\"></i></button></a> : \"\"}\n\n          </fieldset>\n        </Form>\n\n      </div>);\n  }\n}\n\n\nexport default AttestationDeStage;\n"]},"metadata":{},"sourceType":"module"}