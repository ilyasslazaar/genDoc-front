{"ast":null,"code":"import _classCallCheck from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yassine/Desktop/Gendoc-front/src/components/forms/Cv.js\";\nimport React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../../assets/style.css';\nimport Contact from './cv/Contact';\nimport Formation from './cv/Formation';\nimport Experience from './cv/Experience';\nimport Competence from './cv/Competence';\nimport Langue from './cv/Langue';\nimport Distinction from './cv/Distinction';\nimport Loisir from './cv/Loisir';\nimport axios from 'axios';\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues';\nimport { handleAdd, handleRemove } from '../../commun';\nimport { Col, Row, Form, Button } from \"shards-react\";\n\nvar CV =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CV, _Component);\n\n  function CV(props) {\n    var _this;\n\n    _classCallCheck(this, CV);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CV).call(this, props));\n    _this.state = {\n      formationSection: [{\n        value: 0\n      }],\n      experienceSection: [{\n        value: 0\n      }],\n      competenceSection: [{\n        value: 0\n      }],\n      languageSection: [{\n        value: 0\n      }],\n      distinctionSection: [{\n        value: 0\n      }],\n      formData: {\n        \"signed\": false,\n        \"typeName\": \"CV\",\n        data: {\n          contact: {},\n          formations: [],\n          experiences: [],\n          competences: [],\n          langues: [],\n          distinctions: [],\n          loisirs: []\n        }\n      }\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CV, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n\n      if (event.target.id === 'form') {\n        var currentState = this.state.formData;\n        var distinctions = [],\n            langues = [],\n            competences = [],\n            formations = [],\n            experiences = [];\n        this.state.distinctionSection.map(function (item, i) {\n          var distinction = {\n            \"titre\": event.target['titreDist' + i].value,\n            \"lieu\": event.target['lieuDist' + i].value,\n            \"description\": event.target['descriptionDist' + i].value,\n            \"annee\": event.target['moisDist' + i].value + ' ' + event.target['anneeDist' + i].value\n          };\n          distinctions.push(distinction);\n        });\n        this.state.languageSection.map(function (item, i) {\n          var langue = {\n            \"langue\": event.target['langue' + i].value,\n            \"niveau\": event.target['niveau' + i].value\n          };\n          langues.push(langue);\n        });\n        this.state.competenceSection.map(function (item, i) {\n          var competence = {\n            \"titre\": event.target['titreCompetence' + i].value,\n            \"description\": event.target['competences' + i].value\n          };\n          competences.push(competence);\n        });\n        this.state.formationSection.map(function (item, i) {\n          var formation = {\n            \"anneeDebut\": event.target['anneeDebutFormation' + i].value,\n            \"anneeFin\": event.target['anneeFinFormation' + i].value,\n            \"lieu\": event.target['lieuFormation' + i].value,\n            \"etablissement\": event.target['etablissement' + i].value,\n            \"description\": event.target['descriptionFormation' + i].value,\n            \"titre\": event.target['diplome' + i].value\n          };\n          formations.push(formation);\n        });\n        this.state.experienceSection.map(function (item, i) {\n          var experience = {\n            \"anneeDebut\": event.target['anneeDebutExperience' + i].value,\n            \"moisDebut\": event.target['moisDebutExperience' + i].value,\n            \"anneeFin\": event.target['anneeFinExperience' + i].value,\n            \"moisFin\": event.target['moisFinExperience' + i].value,\n            \"titre\": event.target['poste' + i].value,\n            \"lieu\": event.target['lieu' + i].value,\n            \"description\": event.target['description' + i].value,\n            \"societe\": event.target['entreprise' + i].value\n          };\n          experiences.push(experience);\n          console.log(\"index : \", i);\n        });\n        var contact = {\n          \"bio\": event.target.bio.value,\n          \"nom\": event.target.nom.value,\n          \"prenom\": event.target.prenom.value,\n          \"fonction\": event.target.fonction.value,\n          \"adresse\": event.target.adresse.value,\n          \"tel\": event.target.tel.value,\n          \"email\": event.target.email.value\n        };\n        currentState.data.langues = langues;\n        currentState.data.experiences = experiences;\n        currentState.data.formations = formations;\n        currentState.data.distinctions = distinctions;\n        currentState.data.competences = competences;\n        currentState.data.contact = contact;\n        currentState.data.loisirs = event.target.loisirs.value.split(\",\");\n        console.log(currentState.data.loisirs);\n        console.log('experiences : ', experiences);\n        this.setState({\n          formData: currentState\n        }, function () {\n          axios.post(apiURL, {\n            responseType: 'arraybuffer',\n            headers: {\n              'Accept': 'application/pdf'\n            }\n          }, {\n            params: {\n              data: _this2.state.formData\n            }\n          }).then(function (response) {\n            if (response.status === 200) {\n              _this2.setState({\n                toggleDownloadBtn: true,\n                generatedFileName: response.data\n              });\n            }\n          });\n        });\n        console.log(currentState);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        id: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Contact\"))), React.createElement(Contact, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Formation\"))), this.state.formationSection.map(function (field, idx) {\n        return React.createElement(\"div\", {\n          key: \"\".concat(field, \"-\").concat(idx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(Formation, {\n          idx: idx,\n          add: handleAdd.bind(_this3, 'formationSection'),\n          delete: handleRemove.bind(_this3, idx, 'formationSection'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Exp\\xE9rience\"))), this.state.experienceSection.map(function (field, idx) {\n        return React.createElement(\"div\", {\n          key: \"\".concat(field, \"-\").concat(idx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(Experience, {\n          idx: idx,\n          add: handleAdd.bind(_this3, 'experienceSection'),\n          delete: handleRemove.bind(_this3, idx, 'experienceSection'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Comp\\xE9tence\"))), this.state.competenceSection.map(function (field, idx) {\n        return React.createElement(\"div\", {\n          key: \"\".concat(field, \"-\").concat(idx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(Competence, {\n          idx: idx,\n          add: handleAdd.bind(_this3, 'competenceSection'),\n          delete: handleRemove.bind(_this3, idx, 'competenceSection'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Langues\"))), this.state.languageSection.map(function (field, idx) {\n        return React.createElement(\"div\", {\n          key: \"\".concat(field, \"-\").concat(idx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Langue, {\n          idx: idx,\n          add: handleAdd.bind(_this3, 'languageSection'),\n          delete: handleRemove.bind(_this3, idx, 'languageSection'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Prix et distinctions\"))), this.state.distinctionSection.map(function (field, idx) {\n        return React.createElement(\"div\", {\n          key: \"\".concat(field, \"-\").concat(idx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(Distinction, {\n          idx: idx,\n          add: handleAdd.bind(_this3, 'distinctionSection'),\n          delete: handleRemove.bind(_this3, idx, 'distinctionSection'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Loisirs\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Loisir, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      })), React.createElement(\"fieldset\", {\n        className: \"my-fieldset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        theme: \"primary\",\n        className: \"mb-2 mr-1\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"G\\xE9n\\xE9rer le document\"), React.createElement(Button, {\n        outline: true,\n        theme: \"secondary\",\n        className: \"mb-2 mr-1\",\n        type: \"reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Vider les champs\"), this.state.toggleDownloadBtn ? React.createElement(\"a\", {\n        href: downloadURL + this.state.generatedFileName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        title: \"T\\xE9l\\xE9charger le fichier PDF g\\xE9n\\xE9r\\xE9\",\n        type: \"button\",\n        className: \"mb-2 mr-1 btn btn-outline-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-download\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }))) : \"\"));\n    }\n  }]);\n\n  return CV;\n}(Component);\n\nexport default CV;","map":{"version":3,"sources":["/home/yassine/Desktop/Gendoc-front/src/components/forms/Cv.js"],"names":["React","Component","Contact","Formation","Experience","Competence","Langue","Distinction","Loisir","axios","downloadFilesURL","downloadURL","gendocServiceURL","apiURL","styles","handleAdd","handleRemove","Col","Row","Form","Button","CV","props","state","formationSection","value","experienceSection","competenceSection","languageSection","distinctionSection","formData","data","contact","formations","experiences","competences","langues","distinctions","loisirs","handleSubmit","bind","event","preventDefault","target","id","currentState","map","item","i","distinction","push","langue","competence","formation","experience","console","log","bio","nom","prenom","fonction","adresse","tel","email","split","setState","post","responseType","headers","params","then","response","status","toggleDownloadBtn","generatedFileName","field","idx"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../../assets/style.css';\nimport Contact from './cv/Contact'\nimport Formation from './cv/Formation'\nimport Experience from './cv/Experience'\nimport Competence from './cv/Competence'\nimport Langue from './cv/Langue'\nimport Distinction from './cv/Distinction'\nimport Loisir from './cv/Loisir'\nimport axios from 'axios'\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues'\nimport { handleAdd, handleRemove } from '../../commun'\n\nimport {\n  Col,\n  Row,\n  Form,\n  Button\n} from \"shards-react\";\nclass CV extends Component {\n  state = {\n    formationSection: [{ value: 0 }],\n    experienceSection: [{ value: 0 }],\n    competenceSection: [{ value: 0 }],\n    languageSection: [{ value: 0 }],\n    distinctionSection: [{ value: 0 }],\n    formData: {\n      \"signed\": false,\n      \"typeName\": \"CV\",\n      data: {\n        contact: {},\n        formations: [],\n        experiences: [],\n        competences: [],\n        langues: [],\n        distinctions: [],\n        loisirs: []\n      }\n    }\n  };\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (event.target.id === 'form') {\n      let currentState = this.state.formData\n      let distinctions = [], langues = [], competences = [], formations = [], experiences = []\n\n      this.state.distinctionSection.map((item, i) => {\n\n        const distinction =\n        {\n          \"titre\": event.target['titreDist' + i].value,\n          \"lieu\": event.target['lieuDist' + i].value,\n          \"description\": event.target['descriptionDist' + i].value,\n          \"annee\": event.target['moisDist' + i].value + ' ' + event.target['anneeDist' + i].value\n        }\n        distinctions.push(distinction)\n\n\n      })\n      this.state.languageSection.map((item, i) => {\n\n        const langue =\n        {\n          \"langue\": event.target['langue' + i].value,\n          \"niveau\": event.target['niveau' + i].value\n        }\n        langues.push(langue)\n      })\n\n      this.state.competenceSection.map((item, i) => {\n\n        const competence =\n        {\n          \"titre\": event.target['titreCompetence' + i].value,\n          \"description\": event.target['competences' + i].value\n        }\n        competences.push(competence)\n\n      })\n      this.state.formationSection.map((item, i) => {\n\n        const formation =\n        {\n          \"anneeDebut\": event.target['anneeDebutFormation' + i].value,\n          \"anneeFin\": event.target['anneeFinFormation' + i].value,\n          \"lieu\": event.target['lieuFormation' + i].value,\n          \"etablissement\": event.target['etablissement' + i].value,\n          \"description\": event.target['descriptionFormation' + i].value,\n          \"titre\": event.target['diplome' + i].value\n        }\n        formations.push(formation)\n\n      })\n      this.state.experienceSection.map((item, i) => {\n\n        const experience =\n        {\n          \"anneeDebut\": event.target['anneeDebutExperience' + i].value,\n          \"moisDebut\": event.target['moisDebutExperience' + i].value,\n          \"anneeFin\": event.target['anneeFinExperience' + i].value,\n          \"moisFin\": event.target['moisFinExperience' + i].value,\n          \"titre\": event.target['poste' + i].value,\n          \"lieu\": event.target['lieu' + i].value,\n          \"description\": event.target['description' + i].value,\n          \"societe\": event.target['entreprise' + i].value,\n        }\n        experiences.push(experience)\n        console.log(\"index : \", i)\n      })\n      const contact = {\n        \"bio\": event.target.bio.value,\n        \"nom\": event.target.nom.value,\n        \"prenom\": event.target.prenom.value,\n        \"fonction\": event.target.fonction.value,\n        \"adresse\": event.target.adresse.value,\n        \"tel\": event.target.tel.value,\n        \"email\": event.target.email.value\n      }\n      currentState.data.langues = langues\n      currentState.data.experiences = experiences\n      currentState.data.formations = formations\n      currentState.data.distinctions = distinctions\n      currentState.data.competences = competences\n      currentState.data.contact = contact\n\n      currentState.data.loisirs = event.target.loisirs.value.split(\",\")\n      console.log(currentState.data.loisirs)\n      console.log('experiences : ', experiences)\n      this.setState({ formData: currentState }, () => {\n        axios.post(apiURL, {\n          responseType: 'arraybuffer',\n          headers: {\n            'Accept': 'application/pdf'\n          }\n        }, { params: { data: this.state.formData } }).then((response) => {\n          if (response.status === 200) {\n            this.setState({\n              toggleDownloadBtn: true,\n              generatedFileName: response.data\n            });\n          }\n        });\n      })\n      console.log(currentState)\n\n\n    }\n\n  }\n  render() {\n    return (\n      <Form onSubmit={this.handleSubmit} id=\"form\" >\n        <Row style={styles}>\n          <Col md=\"6\">\n            <h4>Contact</h4>\n          </Col>\n        </Row>\n        <Contact />\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Formation</h4>\n          </Col>\n        </Row>\n\n        {this.state.formationSection.map((field, idx) => {\n          return (\n            <div key={`${field}-${idx}`}>\n              <Formation idx={idx} add={handleAdd.bind(this, 'formationSection')} delete={handleRemove.bind(this, idx, 'formationSection')} />\n            </div>\n\n          );\n        })}\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Expérience</h4>\n          </Col>\n        </Row>\n        {this.state.experienceSection.map((field, idx) => {\n          return (\n            <div key={`${field}-${idx}`}>\n              <Experience idx={idx} add={handleAdd.bind(this, 'experienceSection')} delete={handleRemove.bind(this, idx, 'experienceSection')} />\n            </div>\n\n          );\n        })}\n\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Compétence</h4>\n          </Col>\n        </Row>\n        {this.state.competenceSection.map((field, idx) => {\n          return (\n            <div key={`${field}-${idx}`}>\n              <Competence idx={idx} add={handleAdd.bind(this, 'competenceSection')} delete={handleRemove.bind(this, idx, 'competenceSection')} />\n            </div>\n\n          );\n        })}\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Langues</h4>\n          </Col>\n        </Row>\n        {this.state.languageSection.map((field, idx) => {\n          return (\n            <div key={`${field}-${idx}`}>\n              <Langue idx={idx} add={handleAdd.bind(this, 'languageSection')} delete={handleRemove.bind(this, idx, 'languageSection')} />\n            </div>\n\n          );\n        })}\n\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Prix et distinctions</h4>\n          </Col>\n        </Row>\n        {this.state.distinctionSection.map((field, idx) => {\n          return (\n            <div key={`${field}-${idx}`}>\n              <Distinction idx={idx} add={handleAdd.bind(this, 'distinctionSection')} delete={handleRemove.bind(this, idx, 'distinctionSection')} />\n            </div>\n          );\n        })}\n        <Row style={styles} >\n          <Col md=\"6\">\n            <h4>Loisirs</h4>\n          </Col>\n        </Row>\n        <div>\n          <Loisir />\n        </div>\n        <fieldset className=\"my-fieldset\">\n\n          <Button outline theme=\"primary\" className=\"mb-2 mr-1\" type=\"submit\">Générer le document</Button>\n          <Button outline theme=\"secondary\" className=\"mb-2 mr-1\" type=\"reset\">Vider les champs</Button>\n          {this.state.toggleDownloadBtn ? <a href={downloadURL + this.state.generatedFileName} > <button title=\"Télécharger le fichier PDF généré\" type=\"button\" className=\"mb-2 mr-1 btn btn-outline-success\"><i className=\"fa fa-download\" aria-hidden=\"true\"></i></button></a> : \"\"}\n\n        </fieldset>\n      </Form>);\n  }\n}\n\nexport default CV;"]},"metadata":{},"sourceType":"module"}