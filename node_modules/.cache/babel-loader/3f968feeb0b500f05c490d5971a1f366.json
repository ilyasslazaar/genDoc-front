{"ast":null,"code":"import _classCallCheck from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/yassine/Desktop/Gendoc-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yassine/Desktop/Gendoc-front/src/components/forms/AttestationDeTravail.js\";\nimport React, { Component } from \"react\";\nimport '../../assets/style.css';\nimport Responsable from './responsable/Responsable';\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues';\nimport axios from \"axios\";\nimport { Row, Col, Form, FormInput, FormSelect, Button } from \"shards-react\";\n\nvar AttestationDeTravail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AttestationDeTravail, _Component);\n\n  function AttestationDeTravail(props) {\n    var _this;\n\n    _classCallCheck(this, AttestationDeTravail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AttestationDeTravail).call(this, props));\n    _this.state = {\n      formData: {},\n      toggleDownloadBtn: false,\n      generatedFileName: \"\"\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AttestationDeTravail, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        formData: {\n          \"signed\": event.target.signature.value,\n          \"typeName\": \"ATTESTATION_DE_TRAVAIL\",\n          \"data\": {\n            \"lieuLivraison\": event.target.lieuLivraison.value,\n            \"dateLivraison\": event.target.dateLivraison.value,\n            \"responsable\": {\n              \"civilite\": event.target.civiliteResponsable.value,\n              \"nom\": event.target.nomResponsable.value,\n              \"prenom\": event.target.prenomResponsable.value,\n              \"fonction\": event.target.fonction.value,\n              \"societe\": \"Novelis\"\n            },\n            \"collaborateur\": {\n              \"civilite\": event.target.civiliteCollaborateur.value,\n              \"nom\": event.target.nomCollaborateur.value,\n              \"prenom\": event.target.prenomCollaborateur.value,\n              \"cin\": event.target.cinCollaborateur.value,\n              \"cnss\": event.target.cinCollaborateur.value,\n              \"poste\": event.target.posteCollaborateur.value,\n              \"dateDebut\": event.target.dateDebut.value\n            }\n          }\n        }\n      }, function () {\n        axios.post(apiURL, {\n          responseType: 'arraybuffer',\n          headers: {\n            'Accept': 'application/pdf'\n          }\n        }, {\n          params: {\n            data: _this2.state.formData\n          }\n        }).then(function (response) {\n          if (response.status == 200) {\n            _this2.setState({\n              toggleDownloadBtn: true,\n              generatedFileName: response.data\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Responsable\"))), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Responsable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(Row, {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Collaborateur\"))), React.createElement(\"fieldset\", {\n        className: \"my-fieldset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Civilit\\xE9\"), React.createElement(FormSelect, {\n        name: \"civiliteCollaborateur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Mr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Mr\"), React.createElement(\"option\", {\n        value: \"Mme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Mme\"), React.createElement(\"option\", {\n        value: \"Mlle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Mlle\"))), React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Nom\"), React.createElement(FormInput, {\n        type: \"text\",\n        name: \"nomCollaborateur\",\n        placeholder: \"Nom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Pr\\xE9nom\"), React.createElement(FormInput, {\n        name: \"prenomCollaborateur\",\n        type: \"text\",\n        placeholder: \"Pr\\xE9nom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"CIN\"), React.createElement(FormInput, {\n        name: \"cinCollaborateur\",\n        type: \"text\",\n        placeholder: \"N\\xB0 CIN\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"CNSS\"), React.createElement(FormInput, {\n        name: \"cnssCollaborateur\",\n        type: \"text\",\n        placeholder: \"N\\xB0 CNSS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Poste\"), React.createElement(FormInput, {\n        type: \"text\",\n        name: \"posteCollaborateur\",\n        placeholder: \"EX : Ing\\xE9nieur ...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"fePrenomStagiaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Date de d\\xE9but du contrat\"), React.createElement(FormInput, {\n        name: \"dateDebut\",\n        type: \"month\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Row, {\n        className: \"other-doc-info\",\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feSignature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Signature\"), React.createElement(FormSelect, {\n        name: \"signature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Oui\"), React.createElement(\"option\", {\n        value: \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Non\"))), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feSignature\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Date de livraison\"), React.createElement(FormInput, {\n        name: \"dateLivraison\",\n        type: \"date\",\n        placeholder: \"Lieu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"4\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"feFonctionResponsable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Lieu de livraison\"), React.createElement(FormInput, {\n        name: \"lieuLivraison\",\n        type: \"text\",\n        placeholder: \"Lieu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        outline: true,\n        theme: \"primary\",\n        className: \"mb-2 mr-1\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"G\\xE9n\\xE9rer le document\"), React.createElement(Button, {\n        outline: true,\n        theme: \"secondary\",\n        className: \"mb-2 mr-1\",\n        type: \"reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Vider les champs\"), this.state.toggleDownloadBtn ? React.createElement(\"a\", {\n        href: downloadURL + this.state.generatedFileName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        title: \"T\\xE9l\\xE9charger le fichier PDF g\\xE9n\\xE9r\\xE9\",\n        type: \"button\",\n        class: \"mb-2 mr-1 btn btn-outline-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-download\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }))) : \"\")));\n    }\n  }]);\n\n  return AttestationDeTravail;\n}(Component);\n\nexport default AttestationDeTravail;","map":{"version":3,"sources":["/home/yassine/Desktop/Gendoc-front/src/components/forms/AttestationDeTravail.js"],"names":["React","Component","Responsable","downloadFilesURL","downloadURL","gendocServiceURL","apiURL","styles","axios","Row","Col","Form","FormInput","FormSelect","Button","AttestationDeTravail","props","state","formData","toggleDownloadBtn","generatedFileName","handleSubmit","bind","event","preventDefault","setState","target","signature","value","lieuLivraison","dateLivraison","civiliteResponsable","nomResponsable","prenomResponsable","fonction","civiliteCollaborateur","nomCollaborateur","prenomCollaborateur","cinCollaborateur","posteCollaborateur","dateDebut","post","responseType","headers","params","data","then","response","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport '../../assets/style.css';\nimport Responsable from './responsable/Responsable'\nimport { downloadFilesURL as downloadURL, gendocServiceURL as apiURL, styles } from '../../constants/defaultValues'\nimport axios from \"axios\";\n\nimport {\n    Row,\n    Col,\n    Form,\n    FormInput,\n    FormSelect,\n    Button\n} from \"shards-react\";\n\nclass AttestationDeTravail extends Component {\n    state = { formData: {}, toggleDownloadBtn: false, generatedFileName: \"\" }\n\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    handleSubmit(event) {\n        event.preventDefault();\n        this.setState({\n            formData: {\n                \"signed\": event.target.signature.value,\n                \"typeName\": \"ATTESTATION_DE_TRAVAIL\",\n                \"data\": {\n                    \"lieuLivraison\": event.target.lieuLivraison.value,\n                    \"dateLivraison\": event.target.dateLivraison.value,\n                    \"responsable\": {\n                        \"civilite\": event.target.civiliteResponsable.value,\n                        \"nom\": event.target.nomResponsable.value,\n                        \"prenom\": event.target.prenomResponsable.value,\n                        \"fonction\": event.target.fonction.value,\n                        \"societe\": \"Novelis\"\n                    },\n                    \"collaborateur\": {\n                        \"civilite\": event.target.civiliteCollaborateur.value,\n                        \"nom\": event.target.nomCollaborateur.value,\n                        \"prenom\": event.target.prenomCollaborateur.value,\n                        \"cin\": event.target.cinCollaborateur.value,\n                        \"cnss\": event.target.cinCollaborateur.value,\n                        \"poste\": event.target.posteCollaborateur.value,\n                        \"dateDebut\": event.target.dateDebut.value,\n                    }\n                },\n            }\n        }, () => {\n            axios.post(apiURL, {\n                responseType: 'arraybuffer',\n                headers: {\n                    'Accept': 'application/pdf'\n                }\n            },\n                {\n                    params: {\n                        data: this.state.formData\n                    }\n                }).then((response) => {\n                    if (response.status == 200) {\n                        this.setState({\n                            toggleDownloadBtn: true,\n                            generatedFileName: response.data\n                        });\n                    }\n                });\n        })\n    }\n\n    render() {\n        return (<div>\n            <Row style={styles} >\n                <Col md=\"6\">\n                    <h4>Responsable</h4>\n                </Col>\n            </Row>\n            <Form onSubmit={this.handleSubmit}>\n                <Responsable />\n\n                <Row style={styles} >\n                    <Col md=\"6\">\n                        <h4>Collaborateur</h4>\n                    </Col>\n                </Row>\n                <fieldset className=\"my-fieldset\">\n                    <Row form>\n                        <Col className=\"form-group\" >\n\n                            <label htmlFor=\"fePrenomStagiaire\">Civilité</label>\n\n                            <FormSelect name=\"civiliteCollaborateur\">\n                                <option value=\"Mr\">Mr</option>\n                                <option value=\"Mme\">Mme</option>\n                                <option value=\"Mlle\">Mlle</option>\n                            </FormSelect>\n                        </Col>\n                        <Col className=\"form-group\" >\n                            <label htmlFor=\"fePrenomStagiaire\">Nom</label>\n\n                            <FormInput\n                                type=\"text\"\n                                name=\"nomCollaborateur\"\n                                placeholder=\"Nom\"\n                            />\n                        </Col>\n                    </Row>\n                    <Row form>\n\n                        <Col md=\"6\" className=\"form-group\">\n                            <label htmlFor=\"fePrenomStagiaire\">Prénom</label>\n                            <FormInput\n                                name=\"prenomCollaborateur\"\n                                type=\"text\"\n                                placeholder=\"Prénom\"\n                            />\n                        </Col>\n                        <Col md=\"6\" className=\"form-group\">\n                            <label htmlFor=\"feFonctionStagiaire\">CIN</label>\n                            <FormInput\n                                name=\"cinCollaborateur\"\n                                type=\"text\"\n                                placeholder=\"N° CIN\"\n                            />\n                        </Col>\n                    </Row>\n                    <Row form>\n\n                        <Col md=\"4\" className=\"form-group\">\n                            <label htmlFor=\"fePrenomStagiaire\">CNSS</label>\n                            <FormInput\n                                name=\"cnssCollaborateur\"\n                                type=\"text\"\n                                placeholder=\"N° CNSS\"\n                            />\n                        </Col>\n                        <Col md=\"4\" className=\"form-group\">\n                            <label htmlFor=\"feFonctionStagiaire\">Poste</label>\n                            <FormInput\n                                type=\"text\"\n                                name=\"posteCollaborateur\"\n                                placeholder=\"EX : Ingénieur ...\"\n                            />\n                        </Col>\n\n                        <Col md=\"4\" className=\"form-group\">\n                            <label htmlFor=\"fePrenomStagiaire\">Date de début du contrat</label>\n                            <FormInput\n                                name=\"dateDebut\"\n                                type=\"month\"\n                            />\n                        </Col>\n                    </Row>\n                    <hr />\n                    <Row className=\"other-doc-info\" form>\n                        <Col md=\"4\" className=\"form-group\">\n\n                            <label htmlFor=\"feSignature\">Signature</label>\n                            <FormSelect name=\"signature\">\n                                <option value=\"true\">Oui</option>\n                                <option value=\"false\">Non</option>\n                            </FormSelect>\n                        </Col>\n                        <Col md=\"4\" className=\"form-group\">\n\n                            <label htmlFor=\"feSignature\">Date de livraison</label>\n                            <FormInput\n                                name=\"dateLivraison\"\n                                type=\"date\"\n                                placeholder=\"Lieu\"\n                            />\n                        </Col>\n                        <Col md=\"4\" className=\"form-group\">\n                            <label htmlFor=\"feFonctionResponsable\">Lieu de livraison</label>\n                            <FormInput\n                                name=\"lieuLivraison\"\n                                type=\"text\"\n                                placeholder=\"Lieu\"\n                            />\n                        </Col>\n                    </Row>\n                    <Button outline theme=\"primary\" className=\"mb-2 mr-1\" type=\"submit\">Générer le document</Button>\n                    <Button outline theme=\"secondary\" className=\"mb-2 mr-1\" type=\"reset\">Vider les champs</Button>\n\n                    {this.state.toggleDownloadBtn ? <a href={downloadURL + this.state.generatedFileName} > <button title=\"Télécharger le fichier PDF généré\" type=\"button\" class=\"mb-2 mr-1 btn btn-outline-success\"><i class=\"fa fa-download\" aria-hidden=\"true\"></i></button></a> : \"\"}\n                </fieldset>\n            </Form>\n        </div>\n        );\n    }\n}\n\nexport default AttestationDeTravail;\n"]},"metadata":{},"sourceType":"module"}